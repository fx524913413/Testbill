package com.ruijie.spl.billingEngine.billing.entity;

import com.fasterxml.jackson.annotation.JsonBackReference;
import com.ruijie.spl.billingEngine.billing.dataEnum.AccountLevelEnum;
import com.ruijie.spl.billingEngine.billing.dataEnum.FeeObjectTypeEnum;
import com.ruijie.spl.billingEngine.billing.dataEnum.FeeObjectUnitEnum;

import javax.persistence.*;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.HashSet;
import java.util.Set;
import java.util.UUID;

/**
 * Created by Administrator on 2017/9/5.
 * 周期型账户信息实体（思考思考）
 */
@Entity
@Table(name = "periodAccountInfo_Table")
public class PeriodAccountInfoEntity {
    private UUID periodAccountUUID;
    private String accountName;
    //    private AccountStateEnum accountState = AccountStateEnum.Normal;
    private Set<BusinessVolumeEntity> businessVolumeRelation;
    private LocalDateTime nextBillingTime;
    private LocalDateTime createTime;
    private LocalDateTime updateTime;
    private boolean isAccountUsage;
    private BigDecimal lowerLimit;
    private BigDecimal upperLimit;
    private String description;
    private String tariffStrategyName;

    private BigDecimal feeObjectAmount;
    private FeeObjectUnitEnum feeObjectUnit;
    private FeeObjectTypeEnum feeObjectType;
    private AccountLevelEnum accountLevel;

    private PersonEntity personRelation;

    @Id
    @GeneratedValue(strategy = GenerationType.AUTO)
    @Column(name = "periodAccount_UUID")
    public UUID getPeriodAccountUUID() {
        return periodAccountUUID;
    }

    public void setPeriodAccountUUID(UUID periodAccountUUID) {
        this.periodAccountUUID = periodAccountUUID;
    }

    @Column(name = "account_Name")
    public String getAccountName() {
        return accountName;
    }

    public void setAccountName(String accountName) {
        this.accountName = accountName;
    }

//    @Column(name = "account_State")
//    public AccountStateEnum getAccountState() {
//        return accountState;
//    }
//
//    public void setAccountState(AccountStateEnum accountState) {
//        this.accountState = accountState;
//    }

    @OneToMany(targetEntity = BusinessVolumeEntity.class, cascade = {CascadeType.REMOVE, CascadeType.PERSIST}, mappedBy = "accountRelation")
    public Set<BusinessVolumeEntity> getBusinessVolumeRelation() {
        if (businessVolumeRelation == null)
            businessVolumeRelation = new HashSet<>();
        return businessVolumeRelation;
    }

    public void setBusinessVolumeRelation(Set<BusinessVolumeEntity> businessVolumeRelation) {
        this.businessVolumeRelation = businessVolumeRelation;
    }

    @Column(name = "nextBilling_Time")
    public LocalDateTime getNextBillingTime() {
        return nextBillingTime;
    }

    public void setNextBillingTime(LocalDateTime nextBillingTime) {
        this.nextBillingTime = nextBillingTime;
    }

    @Column(name = "create_Time")
    public LocalDateTime getCreateTime() {
        return createTime;
    }

    public void setCreateTime(LocalDateTime createTime) {
        this.createTime = createTime;
    }

    @Column(name = "update_Time")
    public LocalDateTime getUpdateTime() {
        return updateTime;
    }

    public void setUpdateTime(LocalDateTime updateTime) {
        this.updateTime = updateTime;
    }

    @Column(name = "is_AccountUsage")
    public boolean isAccountUsage() {
        return isAccountUsage;
    }

    public void setAccountUsage(boolean accountUsage) {
        isAccountUsage = accountUsage;
    }

    @Column(name = "lower_Limit")
    public BigDecimal getLowerLimit() {
        return lowerLimit;
    }

    public void setLowerLimit(BigDecimal lowerLimit) {
        this.lowerLimit = lowerLimit;
    }

    @Column(name = "upper_Limit")
    public BigDecimal getUpperLimit() {
        return upperLimit;
    }

    public void setUpperLimit(BigDecimal upperLimit) {
        this.upperLimit = upperLimit;
    }

    @Column(name = "description", columnDefinition = "TEXT")
    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    @Column(name = "tariffStrategy_Name")
    public String getTariffStrategyName() {
        return tariffStrategyName;
    }

    public void setTariffStrategyName(String tariffStrategyName) {
        this.tariffStrategyName = tariffStrategyName;
    }

    @Column(name = "feeObject_Amount")
    public BigDecimal getFeeObjectAmount() {
        return feeObjectAmount;
    }

    public void setFeeObjectAmount(BigDecimal feeObjectAmount) {
        this.feeObjectAmount = feeObjectAmount;
    }

    @Column(name = "feeObject_Unit")
    public FeeObjectUnitEnum getFeeObjectUnit() {
        return feeObjectUnit;
    }

    public void setFeeObjectUnit(FeeObjectUnitEnum feeObjectUnit) {
        this.feeObjectUnit = feeObjectUnit;
    }

    @Column(name = "feeObject_Type")
    public FeeObjectTypeEnum getFeeObjectType() {
        return feeObjectType;
    }

    public void setFeeObjectType(FeeObjectTypeEnum feeObjectType) {
        this.feeObjectType = feeObjectType;
    }

    @Column(name = "account_Level")
    public AccountLevelEnum getAccountLevel() {
        return accountLevel;
    }

    public void setAccountLevel(AccountLevelEnum accountLevel) {
        this.accountLevel = accountLevel;
    }

    @ManyToOne(targetEntity = PersonEntity.class, cascade = CascadeType.MERGE)
    @JoinColumn(name = "periodAccount_person_Relation")
    public PersonEntity getPersonRelation() {
        return personRelation;
    }

    @JsonBackReference
    public void setPersonRelation(PersonEntity personRelation) {
        this.personRelation = personRelation;
    }
}
